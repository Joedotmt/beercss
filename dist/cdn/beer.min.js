const m=[];function Z(t){if(t.key==="Escape"){const n=t.currentTarget;G(n,n)}}function W(t,n){f(yt(t.id),"active"),f(t,"active"),f(n,"active"),t.close(),m.pop();const e=m[m.length-1];e==null||e.focus()}async function ot(t,n,e,i){!g(i,"button")&&!l(i,"button")&&!l(i,"chip")&&p(i,"active"),p(n,"active"),p(t,"active"),e?t.showModal():t.show(),await Y(90),e||c(t,"keydown",Z,!1),m.push(t),t.focus()}function at(t){const n=t.currentTarget,e=O(n);g(e,"dialog")&&W(e,n)}async function G(t,n){var a;(a=document.activeElement)==null||a.blur();let e=N(n);const i=l(n,"active")||n.open,r=l(n,"modal");r||F(n,"keydown",Z,!1),l(e,"overlay")||(e=pt({class:"overlay"}),dt(e,n),await Y(90)),r||c(e,"click",at,!1),i?W(n,e):ot(n,e,r,t)}let E;function Q(t){F(document.body,"click",Q);const n=t.target,e=s("menu.active");for(let i=0;i<e.length;i++)X(n,e[i],t)}function ct(t){setTimeout(()=>{const n=h(".field > input",t);n?n.focus():t.focus()},90)}function X(t,n,e){E&&clearTimeout(E),E=setTimeout(()=>{c(document.body,"click",Q);const i=document.activeElement;g(i,"input")||i==null||i.blur();const r=l(n,"active"),a=(e==null?void 0:e.target)===t,o=!!t.closest("menu");if(!r&&o||r&&a){f(n,"active");return}f(s("menu.active"),"active"),p(n,"active"),ct(n)},90)}function st(t){const n=C(t);n&&f(s(".page",n),"active"),p(t,"active")}let x;function ut(t){const n=t.currentTarget;f(n,"active"),x&&clearTimeout(x)}function lt(t,n){var i;(i=document.activeElement)==null||i.blur();const e=s(".snackbar.active");for(let r=0;r<e.length;r++)f(e[r],"active");p(t,"active"),c(t,"click",ut),x&&clearTimeout(x),n!==-1&&(x=setTimeout(()=>{f(t,"active")},n??6e3))}const V=[];async function Y(t){await new Promise(n=>setTimeout(n,t))}function ft(){return"fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}function h(t,n){try{return typeof t=="string"?(n??document).querySelector(t):t}catch{return null}}function s(t,n){try{return typeof t=="string"?(n??document).querySelectorAll(t):t??V}catch{return V}}function l(t,n){return(t==null?void 0:t.classList.contains(n))??!1}function g(t,n){var e;return((e=t==null?void 0:t.tagName)==null?void 0:e.toLowerCase())===n}function T(t,n){var e;return((e=t==null?void 0:t.type)==null?void 0:e.toLowerCase())===n}function p(t,n){if(t instanceof NodeList)for(let e=0;e<t.length;e++)t[e].classList.add(n);else t==null||t.classList.add(n)}function f(t,n){if(t instanceof NodeList)for(let e=0;e<t.length;e++)t[e].classList.remove(n);else t==null||t.classList.remove(n)}function c(t,n,e,i=!0){if(t instanceof NodeList)for(let r=0;r<t.length;r++)t[r].addEventListener(n,e,i);else t!=null&&t.addEventListener&&t.addEventListener(n,e,i)}function F(t,n,e,i=!0){if(t instanceof NodeList)for(let r=0;r<t.length;r++)t[r].removeEventListener(n,e,i);else t!=null&&t.removeEventListener&&t.removeEventListener(n,e,i)}function dt(t,n){var e;(e=n==null?void 0:n.parentNode)==null||e.insertBefore(t,n)}function N(t){return t==null?void 0:t.previousElementSibling}function O(t){return t==null?void 0:t.nextElementSibling}function C(t){return t==null?void 0:t.parentElement}function pt(t){const n=document.createElement("div");for(let e=0,i=Object.keys(t),r=i.length;e<r;e++){const a=i[e],o=t[a];n.setAttribute(a,o)}return n}function yt(t){return s('[data-ui="#'+t+'"]')}function gt(t){return h('[data-ui="#'+t+'"]')}function ht(t){t.id&&l(t,"page")&&(t=gt(t.id)??t);const n=C(t);if(!l(n,"tabs")&&!l(n,"tabbed")&&!g(n,"nav"))return;const e=s("a",n);for(let i=0;i<e.length;i++)f(e[i],"active");p(t,"active")}async function _(t,n,e,i){if(!(!n&&(n=h(t.getAttribute("data-ui")),!n))){if(ht(t),g(n,"dialog")){await G(t,n);return}if(g(n,"menu")){X(t,n,i);return}if(l(n,"snackbar")){lt(n,e);return}if(l(n,"page")){st(n);return}if(l(n,"active")){f(t,"active"),f(n,"active");return}p(n,"active")}}function vt(t){const n=t.currentTarget,e=C(n),i=h("input:not([type=file], [type=checkbox], [type=radio]), select, textarea",e);i&&i.focus()}function $(t){const n=t.currentTarget;L(n)}function q(t){const n=t.currentTarget;L(n)}function bt(t){const n=t.currentTarget;z(n)}function kt(t){const n=t.currentTarget;j(n)}function xt(t){const n=t.currentTarget;z(n,t)}function Tt(t){const n=t.currentTarget;j(n,t)}function Ct(t){const n=t.currentTarget;J(n)}function Lt(){const t=s(".field > label");for(let n=0;n<t.length;n++)c(t[n],"click",vt)}function At(){const t=s(".field > input:not([type=file], [type=color], [type=range])");for(let n=0;n<t.length;n++)c(t[n],"focus",$),c(t[n],"blur",q),L(t[n])}function mt(){const t=s(".field > select");for(let n=0;n<t.length;n++)c(t[n],"focus",$),c(t[n],"blur",q)}function wt(){const t=s(".field > input[type=file]");for(let n=0;n<t.length;n++)c(t[n],"change",bt),z(t[n])}function Et(){const t=s(".field > input[type=color]");for(let n=0;n<t.length;n++)c(t[n],"change",kt),j(t[n])}function St(){const t=s(".field.textarea > textarea");for(let n=0;n<t.length;n++)c(t[n],"focus",$),c(t[n],"blur",q),c(t[n],"input",Ct),J(t[n])}function L(t){T(t,"number")&&!t.value&&(t.value=""),t.placeholder||(t.placeholder=" "),t.getAttribute("data-ui")&&_(t,null)}function z(t,n){if((n==null?void 0:n.key)==="Enter"){const i=N(t);if(!T(i,"file"))return;i.click();return}const e=O(t);T(e,"text")&&(e.value=t.files?Array.from(t.files).map(i=>i.name).join(", "):"",e.readOnly=!0,c(e,"keydown",xt,!1),L(e))}function j(t,n){if((n==null?void 0:n.key)==="Enter"){const i=N(t);if(!T(i,"color"))return;i.click();return}const e=O(t);T(e,"text")&&(e.readOnly=!0,e.value=t.value,c(e,"keydown",Tt,!1),L(e))}function J(t){const n=C(t);n.removeAttribute("style"),l(n,"min")&&n.style.setProperty("---size",`${Math.max(n.scrollHeight,t.offsetHeight)}px`)}function Mt(){Lt(),At(),mt(),wt(),Et(),St()}function D(t){if(t){const e=t.currentTarget;if(e.type==="range"){H(e);return}}const n=s(".slider > input[type=range]");n.length?c(globalThis,"input",D,!1):F(globalThis,"input",D,!1);for(let e=0;e<n.length;e++)H(n[e])}function H(t){const n=C(t),e=h("span",n),i=s("input",n);if(!i.length||!e)return;const r=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--size"))||16,a=l(n,"max")?0:.25*r*100/i[0].offsetWidth,o=[],d=[];for(let k=0,et=i.length;k<et;k++){const B=parseFloat(i[k].min)||0,it=parseFloat(i[k].max)||100,K=parseFloat(i[k].value)||0,U=(K-B)*100/(it-B),rt=a/2-a*U/100;o.push(U+rt),d.push(K)}let v=o[0],y=0,A=100-y-v,b=d[0],w=d[1]||0;i.length>1&&(v=Math.abs(o[1]-o[0]),y=o[1]>o[0]?o[0]:o[1],A=100-y-v,w>b&&(b=d[1]||0,w=d[0])),n.style.setProperty("---start",`${y}%`),n.style.setProperty("---end",`${A}%`),n.style.setProperty("---value1",`'${b}'`),n.style.setProperty("---value2",`'${w}'`)}function Dt(){D()}const u={light:"",dark:""};function I(){var t;return(t=document==null?void 0:document.body)!=null&&t.classList.contains("dark")?"dark":"light"}function It(){if(u.light&&u.dark)return u;const t=document.body,n=document.createElement("body");n.className="light",t.appendChild(n);const e=document.createElement("body");e.className="dark",t.appendChild(e);const i=getComputedStyle(n),r=getComputedStyle(e),a=["--primary","--on-primary","--primary-container","--on-primary-container","--secondary","--on-secondary","--secondary-container","--on-secondary-container","--tertiary","--on-tertiary","--tertiary-container","--on-tertiary-container","--error","--on-error","--error-container","--on-error-container","--background","--on-background","--surface","--on-surface","--surface-variant","--on-surface-variant","--outline","--outline-variant","--shadow","--scrim","--inverse-surface","--inverse-on-surface","--inverse-primary","--surface-dim","--surface-bright","--surface-container-lowest","--surface-container-low","--surface-container","--surface-container-high","--surface-container-highest"];for(let o=0,d=a.length;o<d;o++)u.light+=a[o]+":"+i.getPropertyValue(a[o])+";",u.dark+=a[o]+":"+r.getPropertyValue(a[o])+";";return t.removeChild(n),t.removeChild(e),u}function Pt(t){if(!t||!globalThis.materialDynamicColors)return It();const n=I();return t.light&&t.dark?(u.light=t.light,u.dark=t.dark,document.body.setAttribute("style",t[n]),t):globalThis.materialDynamicColors(t).then(e=>{const i=r=>{let a="";for(let o=0,d=Object.keys(r),v=d.length;o<v;o++){const y=d[o],A=r[y],b=y.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();a+="--"+b+":"+A+";"}return a};return u.light=i(e.light),u.dark=i(e.dark),document.body.setAttribute("style",u[n]),u})}function tt(t){var r;const n=globalThis,e=document==null?void 0:document.body;if(!e)return t;if(!t)return I();t==="auto"&&(t=(r=n.matchMedia)!=null&&r.call(n,"(prefers-color-scheme: dark)").matches?"dark":"light"),e.classList.remove("light","dark"),e.classList.add(t);const i=t==="light"?u.light:u.dark;return n.materialDynamicColors&&e.setAttribute("style",i),I()}let S,M;function R(){S&&clearTimeout(S),S=setTimeout(async()=>await P(),180)}function Ft(t){_(t.currentTarget,null,null,t)}function nt(){M||(M=new MutationObserver(R),M.observe(document.body,{childList:!0,subtree:!0}),R())}function Nt(){const t=s("[data-ui]");for(let n=0,e=t.length;n<e;n++)c(t[n],"click",Ft)}function P(t,n){if(t){if(t==="setup"){nt();return}if(t==="guid")return ft();if(t==="mode")return tt(n);if(t==="theme")return Pt(n);const e=h(t);if(!e)return;_(e,e,n)}Nt(),Mt(),Dt()}function Ot(){const t=globalThis,n=document==null?void 0:document.body;n&&!n.classList.contains("dark")&&!n.classList.contains("light")&&tt("auto"),c(t,"load",nt,!1),t.beercss=P,t.ui=P}Ot();

export default globalThis.ui;